{"version":3,"file":"helpRocover.js","sourceRoot":"","sources":["../src/helpRocover.ts"],"names":[],"mappings":"AAAA,IAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;AAC/B,IAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AAE1B,IAAM,EAAE,GAAG,KAAK,CAAC,gBAAgB,CAAC;IAK9B,IAAI,EAAE,WAAW;IACjB,IAAI,EAAE,MAAM;IACZ,QAAQ,EAAE,QAAQ;IAClB,QAAQ,EAAE,KAAK;CAClB,CAAC,CAAC;AAEH,EAAE,CAAC,OAAO,CAAC,UAAA,GAAG;IACV,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACrB,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,KAAK,CAAC,0BAA0B,EAAE,UAAC,GAAG,EAAC,MAAM;IAC5C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACrB,CAAC;IACD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;IACpB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC3B,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;IAOpC,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IACrC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAErB,GAAG,CAAC,aAAa,CAAC,eAAe,EAAE,OAAO,EAAE,UAAC,GAAG;QAC5C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACN,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACrB,CAAC;IACL,CAAC,CAAC,CAAA;AACN,CAAC,CAAC,CAAC;AACH,EAAE,CAAC,GAAG,EAAE,CAAC","sourcesContent":["const mysql = require('mysql');\nconst fs2 = require('fs');\n\nconst db = mysql.createConnection({\n    // host: '127.0.0.1',\n    // user: 'root',\n    // password: 'Fablab_666', //ssh Fablab151\n    // database: 'mfe_course_platform',\n    host: '127.0.0.1',\n    user: 'root',\n    password: '123456',\n    database: 'app',\n});\n\ndb.connect(err => {\n    console.log(err);\n});\n\ndb.query('select * from t_todolist', (err,result) => {\n    if (err) {\n        console.log(err);\n    }\n    console.log(result);\n    console.log(result.length);\n    console.log(result[0].todo_content);\n    /**\n     * [\n     *  {\"open_id\":\"1101\",\"todo_id\":1,\"todo_title\":\"java\",\"todo_completed\":1,\"todo_content\":\"今天写SpringBoot了吗?\",\"create_time\":\"2018-01-10T10:25:34.000Z\",\"update_time\":\"2017-11-12 23:32:54\"},\n     *  {\"open_id01\",\"todo_id\":3,\"todo_title\":null,\"todo_completed\":0,\"todo_content\":\"今天学习了吗?\",\"create_time\":\"2018-01-10T10:28:37.000Z\",\"update_time\":null}\n     * ]\n     */\n    let jsonStr = JSON.stringify(result);\n    console.log(jsonStr);\n    //写进文件。\n    fs2.writeFileSync('jsondata.json', jsonStr, (err) => {\n        if (err) {\n            console.log(err);\n        }\n    })\n});\ndb.end();\n\n// let schoolName = 'nStjS0CFG8';\n// let sql = `SELECT 'data', temp_work.course_name, temp_work.student_ids from (SELECT * FROM mfe_course_platform.temp_data where data like '%help%' and work_id in (select id from mfe_course_platform_1.temp_work where school_name = '${schoolName}') UNION SELECT * FROM mfe_course_platform_1.temp_data where data like '%help%' and work_id in (select id from mfe_course_platform_1.temp_work where school_name = '${schoolName}')) A join mfe_course_platform.temp_work where A.work_id = temp_work.id;`;\n//\n// // sshpass -p Fablab151 ssh -o StrictHostKeyChecking=no -p 22 root@course.wonderbits.cn\n// const my_exec = require('child_process').exec;\n// my_exec('ssh root@course.wonderbits.cn  | mysql -uroot -pFablab_666', (err, stdout, stdin) => {\n//     if (err) {\n//         console.log(err);\n//     }\n//     console.log(stdout);\n//     console.log(stdin);\n// });\n\n"]}